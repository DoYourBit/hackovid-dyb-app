<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>{{ 'home.title' | translate }}</ion-title>
    <ion-buttons collapse="true" slot="end">
      <ion-button [routerLink]="['/onboarding']">
        <ion-icon slot="icon-only" name="help-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-header collapse="condense">              
    <ion-toolbar>      
      <ion-title size="large">{{ 'home.title' | translate }}</ion-title>
      <ion-buttons slot="end">
        <ion-button collapse="true" [routerLink]="['/onboarding']">
          <ion-icon slot="icon-only" name="help-circle-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <div class="home">
    <div class="home-balance ion-padding">
      <h2>
        {{ balance }}â‚¬
      </h2>
      <ion-button size="large" shape="round" (click)="presentAskCreditModal()">
        <ion-icon slot="icon-only" name="add-outline"></ion-icon>
      </ion-button>
    </div>
    <ion-list class="home-list ion-padding">
      <ion-list-header>
        {{ 'home.transactions' | translate}}
      </ion-list-header>
      <app-transaction *ngFor="let transaction of transactions" [transaction]="transaction" (onVerify)="presentTransactionDetails(transaction)"></app-transaction>
    </ion-list>
  </div>

  <div class="cupertino-pane">
    <div class="header">
      <div class="header-start">
        <h1>{{ activeTransaction?.seller?.name }}</h1>
        <p>#{{ activeTransaction?.id }} - {{ activeTransaction?.date | date: 'dd/MM/yyyy HH:mm'}}</p>
      </div>
      <ion-button fill="clear">
        <ion-icon slot="icon-only" name="checkmark-circle-outline"></ion-icon>
      </ion-button>
    </div>
    <div class="body" hide-on-bottom overflow-y>
      <ion-list>
        <ion-list-header>
          <ion-label>{{ 'home.verify.products' | translate }}</ion-label>
        </ion-list-header>
        <ion-item lines="none" *ngFor="let item of activeTransaction?.products">
          <ion-label>{{ item.name }}</ion-label>
          <ion-note slot="end"> x{{ item.count }} </ion-note>
        </ion-item>
      </ion-list>
      <p class="ion-padding"> <b> {{'home.verify.total' | translate }}:</b> {{ activeTransaction?.total }}{{ activeTransaction?.currency }} </p>
    </div>
  </div>

  <ion-fab vertical="bottom" horizontal="center" slot="fixed">
    <ion-fab-button>
      <ion-icon name="barcode-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>